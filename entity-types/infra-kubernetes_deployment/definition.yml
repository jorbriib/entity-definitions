domain: INFRA
type: KUBERNETES_DEPLOYMENT
goldenTags:
- k8s.deploymentName
- k8s.clusterName
- k8s.namespaceName
synthesis:
  rules:
    - identifier: entityId
      name: deploymentName
      legacyFeatures:
        overrideGuidType: true
      encodeIdentifierInGUID: true
      conditions:
        - attribute: eventType
          value: K8sDeploymentSample
        - attribute: deploymentName
          present: true
        - attribute: podsAvailable
          present: true
      tags:
        deploymentName:
          entityTagName: k8s.deploymentName
        clusterName:
          entityTagName: k8s.clusterName
        namespaceName:
          entityTagName: k8s.namespaceName
        conditionAvailable:
          entityTagName: k8s.deployment.conditionAvailable
        conditionProgressing:
          entityTagName: k8s.deployment.conditionProgressing
        conditionReplicaFailure:
          entityTagName: k8s.deployment.conditionReplicaFailure
        integrationName:
          entityTagName: newrelic.integrationName
        integrationVersion:
          entityTagName: newrelic.integrationVersion
        agentVersion:
          entityTagName: newrelic.agentVersion
        awsRegion:
          entityTagName: aws.region
        provider.awsRegion:
          entityTagName: aws.region
      prefixedTags:
        label.:
configuration:
  entityExpirationTime: DAILY
  alertable: true
